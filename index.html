<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Thuggy AdLibs</title>
  <link href="https://fonts.googleapis.com/css2?family=Yellowtail&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Kite+One&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="grid.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="wrapper">
    <div class="container">
      <div class="grid grid-center col-12">
        <h1>Young Thug Adlibs</h1>
        <p class="instructions">Press a Key on your keyboard</p>
      </div>
      <div class="grid keys">
        <div data-key="81" class="col key">
          <kbd>Q</kbd>
          <span class="sound">Ahhh</span>
        </div>
        <div data-key="87" class="col key">
          <kbd>W</kbd>
          <span class="sound">Ehhh</span>
        </div>
        <div data-key="69" class="col key">
          <kbd>E</kbd>
          <span class="sound">Harmony 1</span>
        </div>
        <div data-key="82" class="col key">
          <kbd>R</kbd>
          <span class="sound">Harmony 2</span>
        </div>
        <div data-key="84" class="col key">
          <kbd>T</kbd>
          <span class="sound">Machine Gun</span>
        </div>
      </div>
      <div class="grid keys">
        <div data-key="89" class="col key">
          <kbd>Y</kbd>
          <span class="sound">Pew Pew</span>
        </div>
        <div data-key="65" class="col key">
          <kbd>A</kbd>
          <span class="sound">Sheesh Sheesh 1</span>
        </div>
        <div data-key="83" class="col key">
          <kbd>S</kbd>
          <span class="sound">Sheesh Sheesh 2</span>
        </div>
        <div data-key="68" class="col key">
          <kbd>D</kbd>
          <span class="sound">Slatt Long</span>
        </div>
        <div data-key="70" class="col key">
          <kbd>F</kbd>
          <span class="sound">Slatt Short</span>
        </div>
      </div>
      <div class="grid keys">
        <div data-key="71" class="col key">
          <kbd>G</kbd>
          <span class="sound">What</span>
        </div>
        <div data-key="72" class="col key">
          <kbd>H</kbd>
          <span class="sound">Woo 1</span>
        </div>
        <div data-key="74" class="col key">
          <kbd>J</kbd>
          <span class="sound">Woo 2</span>
        </div>
        <div data-key="75" class="col key">
          <kbd>K</kbd>
          <span class="sound">Yah Yah Yah</span>
        </div>
        <div data-key="76" class="col key">
          <kbd>L</kbd>
          <span class="sound">Yeaow</span>
        </div>
      </div>
    </div>

    <img class="thuggy" src="img/yt-1b.png"  alt="">

  </div>
    <audio data-key="81" src="sounds/yt-ahh.mp3"></audio>
    <audio data-key="87" src="sounds/yt-ehh.mp3"></audio>
    <audio data-key="69" src="sounds/yt-harmony-1.mp3"></audio>
    <audio data-key="82" src="sounds/yt-harmony-2.mp3"></audio>
    <audio data-key="84" src="sounds/yt-machine-gun.mp3"></audio>
    <audio data-key="89" src="sounds/yt-pewpew.mp3"></audio>
    <audio data-key="65" src="sounds/yt-sheesh-1.m4a"></audio>
    <audio data-key="83" src="sounds/yt-sheesh-2.mp3"></audio>
    <audio data-key="68" src="sounds/yt-slatt-long.mp3"></audio>
    <audio data-key="70" src="sounds/yt-slatt-short.mp3"></audio>
    <audio data-key="71" src="sounds/yt-what.mp3"></audio>
    <audio data-key="72" src="sounds/yt-woo-1.mp3"></audio>
    <audio data-key="74" src="sounds/yt-woo-2.mp3"></audio>
    <audio data-key="75" src="sounds/yt-yah-yah-yah.mp3"></audio>
    <audio data-key="76" src="sounds/yt-yeaow.mp3"></audio>

    <script>
      const thuggy = document.querySelector('.thuggy')
      const keys = document.querySelectorAll('.key')
      const key = document.querySelector('.key')

      function playAudioKey(e) {
        const keyCode = document.querySelector(`.key[data-key="${e.keyCode}"]`)
        const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)

        // Play The Adlib
        if (!audio) return;
        audio.currentTime = 0
        audio.play()

        // Add Playing Border Class
        keyCode.classList.add('playing')

        // Activate Thuggy
        activateThuggy()

      }

      function playAudioClick(e) {
        keys.forEach((key) => {
          key.addEventListener('click', (function() {
            const audioKey = key.getAttribute('data-key');
            const audio = document.querySelector(`audio[data-key="${audioKey}"]`);

            // Play The Adlib
            if (!audio) return;
            audio.currentTime = 0;
            audio.play();

            // Add Border Class
            key.classList.add('playing');

            // Activate Thuggy
            activateThuggy()
          }))

        })
      }

      function removeTransition(e) {
        if (e.propertyName !== 'transform') return

        keys.forEach((key) => {
          key.classList.remove('playing')

        })

      }

      function activateThuggy(e) {
        thuggy.classList.add('activate-thuggy')
        setTimeout(() => {
          thuggy.classList.remove('activate-thuggy')
        }, 1000);
      }

      window.addEventListener('keydown', playAudioKey)
      window.addEventListener('click', playAudioClick)
      window.addEventListener('transitionend', removeTransition)

    </script>
</body>

</html>
